(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[47072],{48374:(e,n,t)=>{"use strict";t.d(n,{JO:()=>s,XG:()=>m,jE:()=>f,uL:()=>u,xX:()=>E});t(74423),t(23792),t(62953);var i=t(7350),r=t.n(i),o=t(48261);const u={isHover:!1,disappearDelay:1500,disappearDelayId:void 0,throttleMove:900},l=function(e){let n=[],t=[];return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?(n.push("fullscreen","exit-fullscreen","shadow"),null!=e&&e.loading?(n.push("spinner"),t.push("play","pause")):null!=e&&e.paused?(n.push("play"),t.push("pause","spinner")):(n.push("pause"),t.push("play","spinner")),null!=e&&e.hasStarted?t.push("thumbnail"):n.push("thumbnail"),null!=e&&e.muted?(n.push("muted"),t.push("unmuted")):(n.push("unmuted"),t.push("muted"))):(t.push("play","pause","fullscreen","exit-fullscreen","shadow","muted","unmuted"),null!=e&&e.loading?n=["spinner"]:null!=e&&e.paused&&(n=["play","fullscreen","exit-fullscreen","shadow"],t=["pause"],e.muted?(n.push("muted"),t.push("unmuted")):(n.push("unmuted"),t.push("muted")))),[n,t]},a=e=>{let{multimedia:n,videoContainer:t,videoId:i}=e;const[r,u]=l(n,!1);(0,o.L)(null==t?void 0:t.current,i,u,!1),(0,o.L)(null==t?void 0:t.current,i,r,!0)},s=e=>{const{multimedia:n,mouseHoverConfig:t,videoContainer:i,videoId:r,isBottomMultimedia:u=!1}=e,[s,d]=l(n);(0,o.L)(null==i?void 0:i.current,r,d,!1),(0,o.L)(null==i?void 0:i.current,r,s,!0),(0,o.L)(null==i?void 0:i.opposite,r,"thumbnail",!0),clearTimeout(null==t?void 0:t.disappearDelayId),u||(t.disappearDelayId=setTimeout((()=>{a({multimedia:n,videoContainer:i,videoId:r})}),null==t?void 0:t.disappearDelay))},d=r()(((e,n)=>{const{mouseHoverConfig:t,multimedia:i,videoContainer:r,videoId:o}=e;if(t.isHover){const{className:e=""}=(null==n?void 0:n.target)||{},u=e.includes("fullscreen")||e.includes("muted");s({multimedia:i,mouseHoverConfig:t,videoContainer:r,videoId:o,isBottomMultimedia:u})}}),u.throttleMove,{trailing:!1}),c=e=>{let{mouseHoverConfig:n,multimedia:t,videoContainer:i,videoId:r}=e;s({multimedia:t,mouseHoverConfig:n,videoContainer:i,videoId:r}),n.isHover=!0},v=e=>{let{mouseHoverConfig:n,multimedia:t,videoContainer:i,videoId:r}=e;clearTimeout(n.disappearDelayId),a({multimedia:t,videoContainer:i,videoId:r}),n.isHover=!1},p=(e,n)=>t=>e(n,t),m=(e,n)=>{let{mouseHoverConfig:t,multimedia:i,videoContainer:r,videoId:u}=n;const l=(0,o.U)(r.current,u),a={mouseHoverConfig:t,multimedia:i,videoContainer:r,videoId:u};c({mouseHoverConfig:t,multimedia:i,videoContainer:r,videoId:u}),e.mousemove=p(d,a),e.mouseover=p(c,a),e.mouseleave=p(v,a),null==l||l.addEventListener("mousemove",e.mousemove),null==l||l.addEventListener("mouseover",e.mouseover),null==l||l.addEventListener("mouseleave",e.mouseleave)},f=(e,n)=>{let{mouseHoverConfig:t,mediaContainer:i,videoId:r}=n;const u=(0,o.U)(i,r);Object.keys(e).length&&(null==u||u.removeEventListener("mousemove",e.mousemove),null==u||u.removeEventListener("mouseover",e.mouseover),null==u||u.removeEventListener("mouseleave",e.mouseleave),e={},t.isHover=!1)},E=e=>{let{multimedia:n,videoContainer:t,videoId:i}=e;const[r,u]=(e=>{const n=[],t=[];return null!=e&&e.loading?(n.push("spinner"),t.push("play","big-mute")):null!=e&&e.muted?(n.push("big-mute"),t.push("play","spinner")):null!=e&&e.paused?(n.push("play"),t.push("big-mute","spinner")):(t.push("play"),t.push("big-mute","spinner")),null!=e&&e.hasStarted?t.push("thumbnail"):n.push("thumbnail"),[n,t]})(n);(0,o.L)(t.current,i,u,!1),(0,o.L)(t.current,i,r,!0),(0,o.L)(t.opposite,i,"thumbnail",!0)}},48261:(e,n,t)=>{"use strict";t.d(n,{L:()=>o,U:()=>i});t(98992),t(72577),t(3949);const i=(e,n)=>{const t=`${e}-${n}`;return Array.from(document.getElementsByClassName("clip-wrapper")).find((e=>{var n;return null===(n=Array.from(null==e?void 0:e.childNodes))||void 0===n?void 0:n.find((e=>e.id===t))}))},r=(e,n,t)=>{const i=`clip-wrapper__${n}`,r=`${i}--hide`,o=null==e?void 0:e.querySelector(`.${i}`);var u;if(void 0===t)null==o||null===(u=o.classList)||void 0===u||u.toggle(r);else if(t){var l;null==o||null===(l=o.classList)||void 0===l||l.remove(r)}else{var a;null==o||null===(a=o.classList)||void 0===a||a.add(r)}},o=(e,n,t,o)=>{const u=i(e,n);(null!=t&&t.length||u)&&(Array.isArray(t)?t.forEach((e=>r(u,e,o))):r(u,t,o))}},83945:(e,n,t)=>{"use strict";t.d(n,{SN:()=>R,L4:()=>f,qq:()=>N,F4:()=>S,i2:()=>y,v7:()=>C,ZH:()=>E,w4:()=>T,cL:()=>g,S8:()=>L,f0:()=>_,XF:()=>A,LY:()=>h});t(3362);var i=t(20429),r=t(73620),o=t(89379),u=(t(23792),t(98992),t(3949),t(62953),t(96540)),l=t(62193),a=t.n(l),s=t(74848);const d=0,c=(0,u.forwardRef)(((e,n)=>{const{classNameWrapper:t,dataTestid:l,delay:d,eventsVideo:c,id:v,onPlayReady:p,options:m,withEvents:f}=e,E=(0,u.useRef)(null),C=(0,u.useRef)(!1);(0,u.useEffect)((()=>{let e=n.current;const t="function"==typeof p;if(!a()(m)){var i;const r=E.current,o=()=>{t&&p(e,m,!0)};if(!e&&null!==(i=window)&&void 0!==i&&i.videojs){if(!r)return;e=videojs(r,m,(()=>{o(),C.current=!0})),n.current=e}C.current&&e&&f&&setTimeout((()=>{o()}),d)}return()=>{var n;e&&(null===(n=e)||void 0===n||n.off())}}),[m,E]),(0,u.useEffect)((()=>{const e=n.current;"function"==typeof(null==e?void 0:e.on)&&f?((e,n,t)=>{Object.values(i.Sy).forEach((i=>{let{eventName:r}=i;const o=t[r];"function"==typeof o&&(null==e||e.on(r,(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];o(e,n,...i)})))}))})(e,m,c):e&&(null==e||e.pause(),null==e||e.off())}),[c,m,n,f]),(0,u.useEffect)((()=>{const e=n.current;return()=>{e&&(null==e||e.dispose(),n.current=null)}}),[n]);const y=(0,u.useMemo)((()=>{const{autoplay:e,className:n,controls:t,dataTestid:i,loop:r,muted:o,playsinline:u,preload:l}=m;return{"data-testid":i,autoPlay:e,className:n,controls:t,loop:r,muted:o,playsInline:u,preload:l}}),[m]);return(0,r.A)("div",{id:v,className:t,"data-testid":l},void 0,(0,s.jsx)("video",(0,o.A)({ref:E},y)))}));c.defaultProps={classNameWrapper:"",delay:0,eventsVideo:{},withEvents:!0},c.displayName="VideoJS";const v=c,p={};p[i.Fu.VIDEOJS]={component:v,play:e=>null==e?void 0:e.play(),pause:e=>null==e?void 0:e.pause(),mute:e=>null==e?void 0:e.muted(!0),unmute:e=>null==e?void 0:e.muted(!1),suscribe:(e,n,t)=>{e.on(n,t)},unsuscribe:(e,n)=>{e.off(n)},src:(e,n)=>null==e?void 0:e.src(n),reset:(e,n)=>{(null==e?void 0:e.readyState())!==d&&(null==e||e.pause(),null==e||e.currentTime(0),n&&n())},restart:e=>{null==e||e.currentTime(0),null!=e&&e.paused()&&e.play().catch((()=>{}))},removeRestrictions:e=>new Promise(((n,t)=>{var i;(e||t(),null!=e&&e.autoplay())?(null==e||e.muted(!1),null==e||e.muted(!0),n()):null==e||null===(i=e.play())||void 0===i||i.then((()=>{null==e||e.pause(),null==e||e.currentTime(0),n()}))})),clickVideo:e=>null!=e&&e.paused()?e.play():(null==e||e.pause(),Promise.resolve()),tapVideo:e=>{if(null!=e&&e.autoplay()&&null!=e&&e.muted())null==e||e.muted(!1);else{if(null!=e&&e.paused())return null==e?void 0:e.play();null==e||e.pause()}return Promise.resolve()},isPlaying:e=>!(null!=e&&e.paused()),isMuted:e=>null==e?void 0:e.muted()};const m=p,f=e=>m[e].component,E=(e,n)=>(0,m[n].play)(e),C=(e,n)=>(0,m[n].pause)(e),y=(e,n)=>(0,m[n].mute)(e),h=(e,n)=>(0,m[n].unmute)(e),_=(e,n,t)=>(0,m[t].src)(e,n),g=(e,n,t)=>(0,m[n].reset)(e,t),L=(e,n)=>(0,m[n].restart)(e),R=(e,n)=>(0,m[n].clickVideo)(e),A=(e,n)=>(0,m[n].tapVideo)(e),T=(e,n)=>(0,m[n].removeRestrictions)(e),S=(e,n)=>(0,m[n].isPlaying)(e),N=(e,n)=>(0,m[n].isMuted)(e)},20429:(e,n,t)=>{"use strict";t.d(n,{Bq:()=>r,Fu:()=>i,GG:()=>o,Sy:()=>l,nd:()=>u});const i={VIDEOJS:"videojs"},r={OWN_ERROR:"OWN_ERROR",CONNECTION_ERROR:"CONNECTION_ERROR"},o=i.VIDEOJS,u="main-video",l={ERROR:{functionName:"onError",eventName:"error"},PAUSE:{functionName:"onPause",eventName:"pause"},PLAY:{functionName:"onPlay",eventName:"play"},PLAYING:{functionName:"onPlaying",eventName:"playing"},TIMEUPDATE:{functionName:"onTimeUpdate",eventName:"timeupdate"},VOLUMECHANGE:{functionName:"onVolumeChange",eventName:"volumechange"},WAITING:{functionName:"onWaiting",eventName:"waiting"}}},212:(e,n,t)=>{"use strict";t.d(n,{A:()=>N});var i=t(73620),r=t(89379),o=(t(23792),t(98992),t(3949),t(62953),t(96540)),u=t(46942),l=t.n(u),a=t(5556),s=t(20429),d=t(78837),c=t(83945),v=t(74848);const{forwardRef:p,useEffect:m,useMemo:f,useRef:E,useState:C}=o,y="clip-video-container",h="clip-player",_=`${h}-container`,{DEVICE_TYPE:g}=d.A,L={autoplay:!1,controls:!1,loadingSpinner:!1,loop:!1,muted:!0,playsinline:!0,preload:"auto",html5:{hls:{enableLowInitialPlaylist:!0,smoothQualityChange:!0,overrideNative:!0}}},R=(0,c.L4)(s.GG),A=p(((e,n)=>{const{autoplay:t,currentVideo:o,deviceType:u,hide:a,id:d,onError:p=()=>{},onPause:g=()=>{},onPlaying:A=()=>{},onSrcChanged:T=()=>{},onTimeUpdate:S=()=>{},onVolumeChange:N=()=>{},onWaiting:G=()=>{},preloadId:I,preloadVideo:P,withEvents:O}=e,[w,V]=C({}),[F,D]=C({}),H=E(null),k=Boolean((null==o?void 0:o.video_url)&&(null==o?void 0:o.video_type)),U=Boolean((null==P?void 0:P.video_url)&&(null==P?void 0:P.video_type));m((()=>{if(k){const e=(0,r.A)((0,r.A)({},L),{},{autoplay:t,className:h,currentVideo:o,dataTestid:`${h}-current`,loop:!0,muted:t});V(e)}}),[t,o]),m((()=>{if(U){const e=(0,r.A)((0,r.A)({},L),{},{autoplay:t,className:h,dataTestid:`${h}-preload`,preloadVideo:P});D(e)}}),[t,P]);const M=f((()=>({[s.Sy.ERROR.eventName]:function(){return p(...arguments)},[s.Sy.PAUSE.eventName]:function(){return g(...arguments)},[s.Sy.PLAYING.eventName]:function(){return A(...arguments)},[s.Sy.TIMEUPDATE.eventName]:function(){return S(...arguments)},[s.Sy.VOLUMECHANGE.eventName]:function(){return N(...arguments)},[s.Sy.WAITING.eventName]:function(){return G(...arguments)}})),[w]),b=l()("video-js",_,`${_}--${u}`),$=l()(y,{[`${y}--hide`]:a});return(0,i.A)("div",{className:$},void 0,(0,v.jsx)(R,{ref:n,id:d,classNameWrapper:b,dataTestid:`${h}-${null==o?void 0:o.id}`,eventsVideo:M,onPlayReady:(e,n,t)=>{const{currentVideo:i}=n,r=[{src:null==i?void 0:i.video_url,type:null==i?void 0:i.video_type}];(0,c.f0)(e,r,s.GG),"function"==typeof T&&T(e,t)},options:w,withEvents:O}),U&&I&&(0,v.jsx)(R,{ref:H,id:I,dataTestid:`${h}-preload-${null==P?void 0:P.id}`,onPlayReady:(e,n)=>{let{preloadVideo:t}=n;const i=[{src:null==t?void 0:t.video_url,type:null==t?void 0:t.video_type}];(0,c.f0)(e,i,s.GG)},options:F,delay:300}))})),T={},S={};Object.values(s.Sy).forEach((e=>{let{functionName:n}=e;return T[n]=a.func})),Object.values(s.Sy).forEach((e=>{let{functionName:n}=e;return S[n]=null})),A.defaultProps=(0,r.A)((0,r.A)({},S),{},{autoplay:!1,currentVideo:null,deviceType:g.DESKTOP,hide:!1,onSrcChanged:null,preloadId:void 0,preloadVideo:null,withEvents:!0});const N=A},66492:(e,n,t)=>{"use strict";t.r(n),t.d(n,{ClipsWorkerComponent:()=>f});var i=t(89379),r=(t(23792),t(81454),t(62953),t(96540)),o=t(78837),u=t(20429),l=t(48374),a=t(212),s=t(7910),d=t(34283);const c=e=>{let{multimediaClipRef:n,onClickVideo:t}=e;return()=>{n.current.loading||t()}};var v=t(55022),p=t(74848);const{DEVICE_TYPE:m}=o.A,f=r.forwardRef(((e,n)=>{let{clipsConfig:t,showSnackbar:o,figures:f}=e;const{position:E,snap:C,isCurrentClips:y,isPreviousClips:h,isFullscreen:_}=(0,r.useContext)(v.h),[g,L]=(0,r.useState)((()=>f.map((()=>!1)))),R=(0,r.useRef)(null),A=(0,r.useRef)(null),T=(0,r.useRef)(),S=(0,r.useRef)((0,i.A)({},l.uL)),N=(0,r.useRef)({}),G=(0,r.useRef)({delay:3e3,delayId:void 0}),I=(0,r.useRef)({hasStarted:!1,loading:void 0,muted:null==t?void 0:t.autoplay,paused:!0,timeToLeave:0,error:!1}),{handleTouch:P,onSrcChanged:O,onWaiting:w,sendIntentionToViewTrack:V,onPlaying:F,onPause:D,onVolumeChange:H,onTimeUpdate:k,onError:U,onMute:M,onClickVideo:b}=(0,d.A)({deviceType:m.DESKTOP,multimediaClipRef:I,playerRef:R,isFullscreenRef:T,mouseHoverConfigRef:S,spinnerConfig:G,clipsConfig:t,isCurrentClips:y,showSnackbar:o,multimediaWatched:g,setMultimediaWatched:L,position:E,snap:C}),$=c({multimediaClipRef:I,onClickVideo:b});return(0,s.p)({deviceType:m.DESKTOP,clipsConfig:t,videoClipElRef:A,multimediaClipRef:I,isFullscreenRef:T,playerRef:R,snap:C,isCurrentClips:y,isFullscreen:_,onPause:D,isPreviousClips:h,position:E,mouseHoverConfigRef:S,eventHandlersRef:N,sendIntentionToViewTrack:V}),(0,r.useImperativeHandle)(n,(()=>({clipHandler:$,handleTouch:P,onMute:M})),[$,P,M]),(0,p.jsx)(a.A,{ref:R,id:u.nd,currentVideo:C.currentClip,autoplay:null==t?void 0:t.autoplay,deviceType:m.MOBILE,onError:U,onPause:D,onPlaying:F,onSrcChanged:O,onTimeUpdate:k,onVolumeChange:H,onWaiting:w,withEvents:y,hide:!0})}))},34283:(e,n,t)=>{"use strict";t.d(n,{A:()=>m});var i=t(89379),r=(t(74423),t(98992),t(72577),t(7350)),o=t.n(r),u=t(83945),l=t(800),a=t(48374),s=t(51410),d=t(28761),c=t(20429),v=t(78837);const{DEVICE_TYPE:p}=v.A,m=e=>{let{multimediaClipRef:n,playerRef:t,isFullscreen:r,isFullscreenRef:v,mouseHoverConfigRef:m,spinnerConfig:f,clipsConfig:E,isCurrentClips:C,showSnackbar:y,multimediaWatched:h,setMultimediaWatched:_,position:g,snap:L,deviceType:R,namespace:A}=e;const T=R===p.DESKTOP;return{handleTouch:(e,i,r)=>{let{className:o}=i,{close:l}=r;const a=n.current.loading;a||!o.includes("glass-screen")||R!==p.MOBILE?!a&&o.includes("glass-screen")?(0,u.SN)(t.current,c.GG):o.includes("exit-fullscreen")?l():o.includes("unmuted")?(0,u.i2)(t.current,c.GG):o.includes("muted")&&(0,u.LY)(t.current,c.GG):(0,u.XF)(t.current,c.GG)},onSrcChanged:(e,i)=>{switch(R){case p.DESKTOP:(0,u.v7)(t.current,c.GG),n.current.paused=!0;break;case p.MOBILE:null==E||!E.autoplay||C||i||(0,u.cL)(e,c.GG),null!=E&&E.autoplay||!r||(0,u.ZH)(e,c.GG)}},onWaiting:(e,t)=>{const{currentVideo:i}=t;n.current.loading=!0;const r=(0,s.A)(null==i?void 0:i.id,n.current,v.current,T&&m.current);switch(R){case p.DESKTOP:(0,a.JO)(r);break;case p.MOBILE:f.current.delayId=setTimeout((()=>{(0,a.xX)(r)}),f.current.delay)}if(n.current.error){var o;const{message:e,delay:n}=(null==E||null===(o=E.snackbars)||void 0===o?void 0:o.find((e=>{let{id:n}=e;return n===(null===c.Bq||void 0===c.Bq?void 0:c.Bq.OWN_ERROR)})))||{};e&&(f.current.delayId=setTimeout((()=>{y({message:e,type:"generic",delay:n,called_from:T?"gallery_vip_clip":`${A}-${R}`})}),f.current.delay))}},onPlay:()=>{n.current.paused=!1},sendIntentionToViewTrack:()=>{if(C&&!h[g.current]){var e,n;const{current:t}=L,r=(0,i.A)((0,i.A)({},null==t?void 0:t.track_intention_to_view),{},{melidata_event:(0,i.A)((0,i.A)({},(null==t||null===(e=t.track_intention_to_view)||void 0===e?void 0:e.melidata_event)||{}),{},{event_data:(0,i.A)((0,i.A)({},null==t||null===(n=t.track_intention_to_view)||void 0===n||null===(n=n.melidata_event)||void 0===n?void 0:n.event_data),{},{gallery_mode:v.current?d.FS.FULL_SCREEN:d.FS.DEFAULT})})});(0,l.sx)(r),_((e=>(e[g.current]=!0,e)))}},onPlaying:(e,t)=>{const{currentVideo:i}=t;n.current.paused=!1,n.current.loading=!1,n.current.hasStarted=!0;const r=(0,s.A)(null==i?void 0:i.id,n.current,v.current,T&&m.current);switch(R){case p.DESKTOP:(0,a.JO)(r);break;case p.MOBILE:(0,a.xX)(r)}clearTimeout(f.current.delayId)},onPause:(e,t)=>{const{currentVideo:i}=t;n.current.paused=!0,n.current.loading=!1;const r=(0,s.A)(null==i?void 0:i.id,n.current,v.current,T&&m.current);switch(R){case p.DESKTOP:(0,a.JO)(r);break;case p.MOBILE:(0,a.xX)(r),clearTimeout(f.current.delayId)}},onVolumeChange:(e,t)=>{const{currentVideo:i}=t;n.current.muted=(0,u.qq)(e,c.GG);const r=(0,s.A)(null==i?void 0:i.id,n.current,v.current,T&&m.current,T&&!0);switch(R){case p.DESKTOP:(0,a.JO)(r);break;case p.MOBILE:(0,a.xX)(r)}},onTimeUpdate:o()((e=>{e.currentTime()>0&&(n.current.timeToLeave+=1)}),1e3),onError:e=>{n.current.error=!0,null==e||e.error(null)},onMute:e=>{e?(0,u.LY)(t.current,c.GG):(0,u.i2)(t.current,c.GG)},onClickVideo:()=>{(0,u.SN)(t.current,c.GG)}}}},51410:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});var i=t(28761);const r=function(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{multimedia:n,videoContainer:{current:t?i.iu.FULL_SCREEN:i.iu.GALLERY_SCREEN,opposite:t?i.iu.GALLERY_SCREEN:i.iu.FULL_SCREEN},videoId:e,isBottomMultimedia:o,mouseHoverConfig:r}}},7910:(e,n,t)=>{"use strict";t.d(n,{p:()=>y});var i=t(96540),r=t(20429),o=t(78837),u=t(89379),l=t(28761),a=t(2996),s=t(51410),d=t(800),c=t(83945),v=t(48374);const p=(e,n)=>{const t="string"==typeof e?document.getElementById(e):e,i=document.getElementById(n);null==i||i.appendChild(t)},m=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&n&&(t?setTimeout((()=>{p(e,n)}),t):p(e,n))},{DEVICE_TYPE:f}=o.A,E=e=>{let{isDesktop:n,deviceType:t,clipsConfig:i,videoClipElRef:o,multimediaClipRef:p,playerRef:E,snap:C,isFullscreen:y,onPause:h,position:_,mouseHoverConfigRef:g,eventHandlersRef:L,sendIntentionToViewTrack:R,multimediaWatched:A,setMultimediaWatched:T}=e;return{handleCurrentClipsFirstCase:()=>{var e,s,h;const{current:_,previous:A}=C;p.current.error=!1,p.current.hasStarted=!1,p.current.loading=!1,p.current.paused=!0,p.current.timeToLeave=0;let T=(null==_?void 0:_.track_vip)||(null==_?void 0:_.track_pdp);T=(0,u.A)((0,u.A)({},T),{},{melidata_event:(0,u.A)((0,u.A)({},null===(e=T)||void 0===e?void 0:e.melidata_event),{},{event_data:(0,u.A)((0,u.A)({},null===(s=T)||void 0===s?void 0:s.melidata_event.event_data),{},{gallery_mode:y?l.FS.FULL_SCREEN:l.FS.DEFAULT})})});switch(("event"===(null===(h=T)||void 0===h||null===(h=h.melidata_event)||void 0===h?void 0:h.type)?d.sx:d.Dm)(T),t){case f.DESKTOP:{R();const e={current:y?l.iu.FULL_SCREEN:l.iu.GALLERY_SCREEN,opposite:y?l.iu.GALLERY_SCREEN:l.iu.FULL_SCREEN},n={multimedia:p.current,mouseHoverConfig:g.current,videoContainer:e,videoId:_.id};m(o.current,`${e.current}-${null==_?void 0:_.id}`),(0,v.XG)(L.current,n);break}case f.MOBILE:{const e=y?l.iu.FULL_SCREEN:l.iu.GALLERY_SCREEN;m(o.current,`${e}-${null==_?void 0:_.id}`);break}}null!=i&&i.autoplay?((0,a.Q)(A)||(0,c.S8)(E.current,r.GG),!n&&y&&p.current.muted&&(0,c.LY)(E.current,r.GG)):n||(0,a.Q)(A)||!y||(0,c.ZH)(E.current,r.GG)},handlePreviousClips:()=>{var e,t;const{previous:i,prevClip:a}=C,f={is_muted:void 0===p.current.muted?"not_started":`${p.current.muted}`,is_playing:void 0===p.current.paused?"not_started":`${!p.current.paused}`},_=(0,u.A)((0,u.A)({time_to_leave:p.current.timeToLeave,has_started_at_least_once:p.current.hasStarted},n&&{is_muted:void 0===p.current.muted?"not_started":`${p.current.muted}`,is_playing:void 0===p.current.paused?"not_started":`${!p.current.paused}`}),!n&&(0,u.A)({},f));let R=null==i?void 0:i.track_leave;if(R=(0,u.A)((0,u.A)({},R),{},{melidata_event:(0,u.A)((0,u.A)({},null===(e=R)||void 0===e?void 0:e.melidata_event),{},{event_data:(0,u.A)((0,u.A)((0,u.A)({},null===(t=R)||void 0===t?void 0:t.melidata_event.event_data),_),{},{gallery_mode:y?l.FS.FULL_SCREEN:l.FS.DEFAULT})})}),(0,d.sx)(R),(0,c.cL)(E.current,r.GG,(()=>{p.current.hasStarted=!1,h(E.current,{currentVideo:a})})),y&&m(o.current,`${l.iu.GALLERY_SCREEN}-${null==i?void 0:i.id}`),n){const e={mediaContainer:y?l.iu.FULL_SCREEN:l.iu.GALLERY_SCREEN,mouseHoverConfig:g.current,videoId:a.id};(0,v.jE)(L.current,e);const n=(0,s.A)(null==a?void 0:a.id,p.current,y,g.current);(0,v.JO)(n)}},handleCurrentClipsSecondCase:()=>{const{current:e}=C,n=y?l.iu.FULL_SCREEN:l.iu.GALLERY_SCREEN;switch(m(o.current,`${n}-${null==e?void 0:e.id}`),t){case f.DESKTOP:{const n={current:y?l.iu.FULL_SCREEN:l.iu.GALLERY_SCREEN,opposite:y?l.iu.GALLERY_SCREEN:l.iu.FULL_SCREEN},t={mediaContainer:n.opposite,mouseHoverConfig:g.current,videoId:e.id},i={mouseHoverConfig:g.current,multimedia:p.current,videoContainer:n,videoId:e.id};(0,v.jE)(L.current,t),(0,v.XG)(L.current,i);break}case f.MOBILE:{const e=!(0,c.F4)(E.current,r.GG);null!=i&&i.autoplay&&y&&(0,c.LY)(E.current,r.GG),null!=i&&i.autoplay&&!y&&((0,c.i2)(E.current,r.GG),e&&(0,c.ZH)(E.current,r.GG)),null!=i&&i.autoplay||y||e?y&&(0,c.ZH)(E.current,r.GG):(0,c.v7)(E.current,r.GG),y&&!A[_.current]&&(()=>{var e,n;const{current:t}=C,i=(0,u.A)((0,u.A)({},null==t?void 0:t.track_intention_to_view),{},{melidata_event:(0,u.A)((0,u.A)({},(null==t||null===(e=t.track_intention_to_view)||void 0===e?void 0:e.melidata_event)||{}),{},{event_data:(0,u.A)((0,u.A)({},null==t||null===(n=t.track_intention_to_view)||void 0===n?void 0:n.melidata_event.event_data),{},{gallery_mode:y?l.FS.FULL_SCREEN:l.FS.DEFAULT})})});(0,d.sx)(i),T((e=>(e[_.current]=!0,e)))})();break}}}}},{DEVICE_TYPE:C}=o.A,y=e=>{let{deviceType:n,clipsConfig:t,videoClipElRef:o,multimediaClipRef:u,isFullscreenRef:l,playerRef:a,snap:s,isCurrentClips:d,isFullscreen:c,isPreviousClips:v,onPause:p,position:m,mouseHoverConfigRef:f,eventHandlersRef:y,sendIntentionToViewTrack:h,multimediaWatched:_,setMultimediaWatched:g}=e;const L=n===C.DESKTOP,{handleCurrentClipsFirstCase:R,handlePreviousClips:A,handleCurrentClipsSecondCase:T}=E({isDesktop:L,deviceType:n,clipsConfig:t,videoClipElRef:o,multimediaClipRef:u,playerRef:a,snap:s,isFullscreen:c,onPause:p,position:m,mouseHoverConfigRef:f,eventHandlersRef:y,sendIntentionToViewTrack:h,multimediaWatched:_,setMultimediaWatched:g});(0,i.useEffect)((()=>{null!=t&&t.hasClips&&(o.current=document.getElementById(r.nd))}),[]),(0,i.useEffect)((()=>{d&&R(),v&&A()}),[m.current,m.currentClip]),(0,i.useEffect)((()=>{l.current=c,d&&T()}),[c])}},38221:(e,n,t)=>{var i=t(23805),r=t(10124),o=t(99374),u=Math.max,l=Math.min;e.exports=function(e,n,t){var a,s,d,c,v,p,m=0,f=!1,E=!1,C=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(n){var t=a,i=s;return a=s=void 0,m=n,c=e.apply(i,t)}function h(e){var t=e-p;return void 0===p||t>=n||t<0||E&&e-m>=d}function _(){var e=r();if(h(e))return g(e);v=setTimeout(_,function(e){var t=n-(e-p);return E?l(t,d-(e-m)):t}(e))}function g(e){return v=void 0,C&&a?y(e):(a=s=void 0,c)}function L(){var e=r(),t=h(e);if(a=arguments,s=this,p=e,t){if(void 0===v)return function(e){return m=e,v=setTimeout(_,n),f?y(e):c}(p);if(E)return clearTimeout(v),v=setTimeout(_,n),y(p)}return void 0===v&&(v=setTimeout(_,n)),c}return n=o(n)||0,i(t)&&(f=!!t.leading,d=(E="maxWait"in t)?u(o(t.maxWait)||0,n):d,C="trailing"in t?!!t.trailing:C),L.cancel=function(){void 0!==v&&clearTimeout(v),m=0,a=p=s=v=void 0},L.flush=function(){return void 0===v?c:g(r())},L}},10124:(e,n,t)=>{var i=t(9325);e.exports=function(){return i.Date.now()}},7350:(e,n,t)=>{var i=t(38221),r=t(23805);e.exports=function(e,n,t){var o=!0,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(t)&&(o="leading"in t?!!t.leading:o,u="trailing"in t?!!t.trailing:u),i(e,n,{leading:o,maxWait:n,trailing:u})}},99374:e=>{e.exports=function(e){return e}}}]);
//# sourceMappingURL=components-desktop-clips-worker-component-desktop.e1fa80db.js.map